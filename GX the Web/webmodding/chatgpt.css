/* ===== Opera GX ChatGPT WebMod — full override ===== */

/* — Base & Layout — */
html, body, #__next, .App {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
}

/* — Sidebar & Header — */
.App .Sidebar,
.App header,
.App footer {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
}

/* — Chat Stream & Bubbles — */
main > div,
.message-wrapper,
.assistant-response-wrapper,
.user-response-wrapper {
  background-color: env(-opera-gx-background-color) !important;
}

/* — Text & Links — */
.token-text-primary,
.text-token-text-primary,
.prose a,
.message-wrapper a {
  color: env(-opera-gx-accent-color) !important;
}
.prose strong,
.message-wrapper strong {
  color: env(-opera-gx-accent-color) !important;
}
.prose,
.message-wrapper p,
.message-wrapper li {
  color: white !important;
}

/* — Code Blocks — */
code, pre {
  background-color: #1e1e1e !important;
  color:            env(-opera-gx-accent-color)     !important;
}

/* — Input Area (textarea) — */
textarea,
textarea:focus {
  background-color: transparent !important;
  color:            env(-opera-gx-accent-color)     !important;
  caret-color:      env(-opera-gx-accent-color)     !important;
  border:           none !important;
  box-shadow:       none !important;
}

/* — Core Buttons (filled with accent) — */
button.primary,
button[type="submit"] {
  background-color: env(-opera-gx-accent-color)     !important;
  color:            env(-opera-gx-background-color) !important;
  border:           none                           !important;
}
button.primary:hover,
button[type="submit"]:hover {
  opacity: 0.9 !important;
}
/* make sure the send‑arrow matches the BG color */
button[type="submit"] svg {
  fill: env(-opera-gx-background-color) !important;
}

/* — “Share” Button (blend BG, accent text/icon) — */
button[data-testid="share-chat-button"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
  border:           none                             !important;
}
button[data-testid="share-chat-button"] svg {
  fill: env(-opera-gx-accent-color) !important;
}

/* — “Open sidebar” & “Conversation options” — */
button[aria-label="Open sidebar"],
button[data-testid="conversation-options-button"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
}
button[aria-label="Open sidebar"] svg,
button[data-testid="conversation-options-button"] svg {
  fill: env(-opera-gx-accent-color) !important;
}

/* — Other controls (Tools, Upload, Dictate, New chat) — */
#upload-file-btn,
#system-hint-button,
button[aria-label="Dictate button"],
a[href="/"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
  border:           none                             !important;
}
#upload-file-btn svg,
#system-hint-button svg,
button[aria-label="Dictate button"] svg,
a[href="/"] svg {
  fill: env(-opera-gx-accent-color) !important;
}

/* — Turn‑action buttons (copy, good/bad, voice, edit) — */
button[data-testid$="-turn-action-button"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
}
button[data-testid$="-turn-action-button"] svg {
  fill: env(-opera-gx-accent-color) !important;
}

/* — Scrollbars — */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: env(-opera-gx-background-color) !important;
}
::-webkit-scrollbar-thumb {
  background: env(-opera-gx-accent-color) !important;
  border-radius: 4px;
}
/* — Turn‑action buttons (copy, good/bad, read aloud, edit, menu) — */
button[data-testid$="-turn-action-button"],
button[aria-label="Edit in canvas"],
button[aria-haspopup="menu"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
  border:           none                             !important;
}
button[data-testid$="-turn-action-button"] svg,
button[aria-label="Edit in canvas"] svg,
button[aria-haspopup="menu"] svg {
color: env(-opera-gx-accent-color) !important;
}

/* — Composer “Send prompt” button — */
#composer-submit-button {
  background-color: env(-opera-gx-accent-color)     !important;
  color:            env(-opera-gx-background-color) !important;
  border:           none                             !important;
}
#composer-submit-button svg {
  color: env(-opera-gx-background-color) !important;
}

/* — Close sidebar button — */
#close-sidebar-button {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
  border:           none                             !important;
}
#close-sidebar-button svg {
  color: env(-opera-gx-accent-color) !important;
}
/* — Sidebar‑surface token container (e.g. “Copy” / “Edit” group) — */
.bg-token-sidebar-surface-primary {
  background-color: env(-opera-gx-accent-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
}
.bg-token-sidebar-surface-primary button {
  background-color: transparent                !important;
  color:            env(-opera-gx-accent-color) !important;
  border:           none                        !important;
}
.bg-token-sidebar-surface-primary button svg {
  color: env(-opera-gx-accent-color) !important;
}

/* — Composer “Start voice mode” button — */
button[data-testid="composer-speech-button"] {
  background-color: env(-opera-gx-background-color) !important;
  color:            env(-opera-gx-accent-color)     !important;
  border:           none                             !important;
}
button[data-testid="composer-speech-button"] svg {
  background-color: env(-opera-gx-accent-color) !important;
}
